[
{
"id": "sdscsfsfs9s3scsf",
"js": "$style1/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"clickEvent": {
"clickEvent": [
{
"code": "widget.event(\"loading\",{}).then(()=>{\n  setTimeout(()=>{\n    window.glitter.closeDiaLog()\n  },1000)\n  \n})",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"triggerTime": "first"
},
"type": "code",
"index": 0,
"label": "代碼區塊",
"global": [],
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s8sas2s7ses9sfs2",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "container py-3",
"inner": "",
"style": "",
"setting": [
{
"id": "sfsfs8s6s4s7scs4",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "d-flex mb-2",
"inner": "",
"style": "align-items: flex-end;justify-content: end;",
"setting": [
{
"id": "sfs6sbscsbs0s3sc",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [
{
"attr": "onclick",
"type": "event",
"attrType": "normal",
"valueFrom": "manual",
"clickEvent": [
{
"link": "service_setting",
"waitType": "block",
"coverData": {},
"dialogTag": {},
"clickEvent": {
"src": "./official_event/event.js",
"route": "dialog"
},
"pluginExpand": {},
"select_page_type": "backend"
},
{
"clickEvent": {
"src": "./official_event/event.js",
"route": "reloadPage"
}
}
]
}
],
"elem": "button",
"list": [],
"class": "btn btn-warning btn-sm",
"inner": "添加項目",
"style": "color: black;",
"stylist": [],
"version": "v2",
"dataFrom": "static",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 0,
"label": "HTML元件",
"global": [],
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 0,
"label": "容器",
"gCount": "multiple",
"global": [],
"toggle": true,
"arrayData": {
"clickEvent": [
{
"code": "if(glitter.getUrlParameter('cms')==='true'){\n    return subData\n}else{\n    return []\n}",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"hiddenEvent": {},
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s9s7s5s2s1s6s8se",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "fs-3",
"inner": "請選擇您需要的服務項目",
"style": "color: #333;font-style: normal;font-weight: 700;line-height: normal;",
"stylist": [],
"version": "v2",
"dataFrom": "static",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 1,
"label": "HTML元件",
"global": [],
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s0sbsas8s0sds4sb",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [
{
"attr": "onchange",
"type": "event",
"attrType": "normal",
"valueFrom": "manual",
"clickEvent": [
{
"code": "widget.share.search=element.e.value;",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
}
],
"elem": "div",
"list": [],
"class": "d-flex my-3 mb-4",
"inner": "",
"style": "border-radius: 5px;border: 1px solid var(--, #E5E5E5);background: #FFF;",
"setting": [
{
"id": "s5s6sbsfs8s1sasa",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [
{
"attr": "placeholder",
"type": "par",
"value": "使用關鍵字搜尋",
"attrType": "normal",
"valueFrom": "manual"
},
{
"attr": "onchange",
"type": "event",
"attrType": "normal",
"valueFrom": "manual",
"clickEvent": [
{
"code": "   widget.share.search=element.e.value;\n    const lastScroll=document.querySelector('html').scrollTop\n    setTimeout(()=>{\n        document.querySelector('html').scrollTop=lastScroll;\n    },100)",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
},
{
"block": ".service-container",
"clickEvent": {
"src": "./official_event/event.js",
"route": "notify"
},
"pluginExpand": {}
}
]
}
],
"elem": "input",
"list": [],
"class": "flex-fill form-control",
"inner": "",
"style": "margin-right: -10px;",
"stylist": [],
"version": "v2",
"dataFrom": "static",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 0,
"label": "HTML元件",
"global": [],
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s0s5sbs2s3sdsbs1",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "",
"inner": "<i class=\"fa-regular fa-magnifying-glass\"></i>",
"style": "border-radius: 0px 5px 5px 0px;background: #FFAC24;width: 132px;display: flex;align-items: center;justify-content: center;color: white;",
"stylist": [],
"version": "v2",
"dataFrom": "static",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 1,
"label": "HTML元件",
"global": [],
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 2,
"label": "容器",
"global": [],
"toggle": true,
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s3sbs2s2s6s1s8s7",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "border d-flex px-2 px-sm-5",
"inner": "",
"style": "padding-left: 118px;padding-right: 118px;padding-top: 24px;padding-bottom: 24px;",
"setting": [
{
"id": "sas4sesfs4s7s7s6",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "row w-100 m-0 service-container",
"inner": "",
"style": "",
"setting": [
{
"id": "ses3ses1s5scs8s7",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "col-12 my-3 border-bottom pb-3  col-sm-6 item_container",
"inner": "",
"style": "",
"setting": [
{
"id": "s3sesdscsbs9s6s6",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "",
"inner": "return subData.title;",
"style": "color: #333;font-size: 20px;font-style: normal;font-weight: 700;line-height: normal;",
"stylist": [],
"version": "v2",
"dataFrom": "code_text",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 0,
"label": "HTML元件",
"global": [],
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
},
{
"id": "s7ses6sbs7s6sfse",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "d-flex w-100 row",
"inner": "",
"style": "",
"setting": [
{
"id": "sescsas7s0s1s9se",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [],
"elem": "div",
"list": [],
"class": "if(subData.type==='container'){\n  return `mt-3 col-12 d-flex flex-wrap p-3`\n}else{\n    return `mt-3 col-4 `\n}",
"inner": "return subData.title;",
"style": "if(subData.type==='container'){\n    return `border-radius: 5px;\nborder: 2px solid #FFAC24;\ncolor:black;\nbackground: #FFF;\ngap:10px;\ncursor:pointer;\n`\n}else{\n    return `cursor:pointer;\n    display: flex;justify-content: start;\n    `\n}",
"setting": [
{
"id": "s5sas2s2s1s8sfs8",
"js": "./official_view_component/official.js",
"css": {
"class": {},
"style": {}
},
"data": {
"attr": [
{
"attr": "onclick",
"type": "event",
"attrType": "normal",
"valueFrom": "manual",
"clickEvent": [
{
"code": "    if (subData.data) {\n        if (subData.data.length === 1) {\n            widget.bundle.carryData.next && widget.bundle.carryData.next({\n                title:subData.title,\n                id:subData.data[0].id\n            });\n        } else {\n            widget.share.select = subData.data[0].id\n        }\n    } else {\n        widget.share.select = subData.id;\n        widget.bundle.carryData.next && widget.bundle.carryData.next({\n                title:subData.title,\n                id:subData.id\n            });\n        console.log(`widget.bundle.carryData.next -->`,widget.bundle)    \n    }\n    element.e.closest('.item_container').recreateView()\n    console.log(`element.e.closest('.item_container')`,element.e.closest('.item_container'))\n    const lastScroll = document.querySelector('html').scrollTop;\n    setTimeout(() => {\n        document.querySelector('html').scrollTop = lastScroll;\n    }, 100)",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
}
],
"elem": "div",
"list": [
{
"class": "",
"style": "if(subData.select){\n    return `color: #FFAC24;\nfont-size: 16px;\nfont-style: normal;\nfont-weight: 700;\nline-height: normal;\nborder-bottom:2px solid #FFAC24;\n`\n}else{\n    return ``\n}",
"stylist": [],
"dataType": "code",
"style_from": "code",
"classDataType": "static"
}
],
"class": "",
"inner": "return subData.title;",
"style": "white-space: normal;display:flex;align-items:center;",
"stylist": [],
"version": "v2",
"dataFrom": "code_text",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "static"
},
"type": "widget",
"index": 0,
"label": "HTML元件",
"gCount": "multiple",
"global": [],
"arrayData": {
"clickEvent": [
{
"code": "    if (subData.type === 'container') {\n        return subData.data.map((dd)=>{\n            dd.cType='child'\n            return dd\n        });\n    } else {\n        return subData;\n    }\n",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"hiddenEvent": {},
"preloadEvenet": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataFrom": "code_text",
"dataType": "code",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"innerEvenet": {},
"classDataType": "code"
},
"type": "container",
"index": 0,
"label": "HTML元件",
"gCount": "multiple",
"global": [],
"toggle": true,
"arrayData": {
"clickEvent": [
{
"code": "   const retData = JSON.parse(JSON.stringify(subData.data));\n   let index = parseInt(((retData.findIndex((dd) => {\n      return dd.select\n   })) + 3) / 3, 10) * 3 ;\n   if (retData.find((d3) => {\n      return d3.select\n   })&&retData.find((d3) => {\n      return d3.select\n   }).data.length>1) {\n      retData.splice(index, 0, {\n         type: 'container', data: retData.find((d3) => {\n      return d3.select\n   }).data.map((dd)=>{\n            return {\n               title: dd.content.service_name,value:'',select:dd.select,id:dd.id\n            }\n         })\n      });\n   }\n   return retData;",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 1,
"label": "容器",
"global": [],
"toggle": true,
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 0,
"label": "容器",
"gCount": "multiple",
"global": [],
"toggle": true,
"arrayData": {
"clickEvent": [
{
"code": "    try{\n  let map = [];\n    widget.share.search = widget.share.search || '';\n    subData.data.filter((d2) => {\n        return d2.content.service_name && d2.content.service_name.includes(widget.share.search) || d2.content.service_group.includes(widget.share.search)\n    }).map((dd) => {\n        let data = dd.content;\n        // widget.share.select = widget.share.select || data.id\n        const service_group = data.service_group.split('/')\n        let folder = map\n        service_group.map((dd) => {\n            if (!folder.find((d2) => {\n                return d2.title === dd\n            })) {\n                let newFolder = []\n                let selectValue=false\n                folder.push({\n                    title: dd,\n                    type: 'option',\n                    data: newFolder,\n                    get select(){\nreturn selectValue || widget.share.select === data.id\n                    },\n                    set select(newValue){\nselectValue=newValue\n                    }\n                })\n            }\n            const op = folder.find((d2) => {\n                return d2.title === dd\n            })\n            // op.select = op.select || (widget.share.select === data.id)\n            folder = op.data;\n\n        });\n        folder.push(dd);\n    });\n    return map\n    }catch(e){\nconsole.log(e)\n    }\n  ",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 0,
"label": "容器",
"global": [],
"toggle": true,
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"dataType": "static",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 3,
"label": "容器",
"gCount": "single",
"global": [],
"toggle": true,
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {
"clickEvent": []
},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
],
"stylist": [],
"version": "v2",
"atrExpand": {},
"elemExpand": {},
"style_from": "code",
"classDataType": "static"
},
"type": "container",
"index": 1,
"label": "容器",
"gCount": "multiple",
"global": [],
"toggle": true,
"arrayData": {
"clickEvent": [
{
"data": {
"clickEvent": [
{
"code": "return {\n\"url\": window.glitterBackend+'/api-public/v1/post/manager?search=type->service&page=0&limit=2000',\n\"type\": \"GET\",\n\"timeout\": 0,\n\"headers\": {\n\"Content-Type\": \"application/json\",\n\"g-app\":window.appName,\n\"Authorization\":window.config.token\n}\n}\n",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2",
"pluginExpand": {}
}
]
},
"error": {},
"success": {},
"clickEvent": {
"src": "./official_event/event.js",
"route": "api_request"
},
"pluginExpand": {}
},
{
"code": "    console.log('serviceData->',subData)\nreturn subData.data",
"clickEvent": {
"src": "./official_event/event.js",
"route": "code"
},
"codeVersion": "v2"
}
]
},
"hiddenEvent": {},
"onCreateEvent": {
"clickEvent": []
},
"onResumtEvent": {},
"preloadEvenet": {},
"onDestoryEvent": {},
"onInitialEvent": {},
"refreshAllParameter": {},
"refreshComponentParameter": {}
}
]