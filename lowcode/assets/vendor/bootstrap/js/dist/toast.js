/*!
  * Bootstrap toast.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory(require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./base-component.js")):typeof define==="function"&&define.amd?define(["./dom/event-handler","./dom/manipulator","./base-component"],factory):(global=typeof globalThis!=="undefined"?globalThis:global||self,global.Toast=factory(global.EventHandler,global.Manipulator,global.Base))})(this,(function(EventHandler,Manipulator,BaseComponent){"use strict";const _interopDefaultLegacy=e=>e&&typeof e==="object"&&"default"in e?e:{default:e};const EventHandler__default=_interopDefaultLegacy(EventHandler);const Manipulator__default=_interopDefaultLegacy(Manipulator);const BaseComponent__default=_interopDefaultLegacy(BaseComponent);const toType=obj=>{if(obj===null||obj===undefined){return`${obj}`}return{}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase()};const getSelector=element=>{let selector=element.getAttribute("data-bs-target");if(!selector||selector==="#"){let hrefAttr=element.getAttribute("href");if(!hrefAttr||!hrefAttr.includes("#")&&!hrefAttr.startsWith(".")){return null}if(hrefAttr.includes("#")&&!hrefAttr.startsWith("#")){hrefAttr=`#${hrefAttr.split("#")[1]}`}selector=hrefAttr&&hrefAttr!=="#"?hrefAttr.trim():null}return selector};const getElementFromSelector=element=>{const selector=getSelector(element);return selector?document.querySelector(selector):null};const isElement=obj=>{if(!obj||typeof obj!=="object"){return false}if(typeof obj.jquery!=="undefined"){obj=obj[0]}return typeof obj.nodeType!=="undefined"};const typeCheckConfig=(componentName,config,configTypes)=>{Object.keys(configTypes).forEach((property=>{const expectedTypes=configTypes[property];const value=config[property];const valueType=value&&isElement(value)?"element":toType(value);if(!new RegExp(expectedTypes).test(valueType)){throw new TypeError(`${componentName.toUpperCase()}: Option "${property}" provided type "${valueType}" but expected type "${expectedTypes}".`)}}))};const isDisabled=element=>{if(!element||element.nodeType!==Node.ELEMENT_NODE){return true}if(element.classList.contains("disabled")){return true}if(typeof element.disabled!=="undefined"){return element.disabled}return element.hasAttribute("disabled")&&element.getAttribute("disabled")!=="false"};const reflow=element=>{element.offsetHeight};const getjQuery=()=>{const{jQuery:jQuery}=window;if(jQuery&&!document.body.hasAttribute("data-bs-no-jquery")){return jQuery}return null};const DOMContentLoadedCallbacks=[];const onDOMContentLoaded=callback=>{if(document.readyState==="loading"){if(!DOMContentLoadedCallbacks.length){document.addEventListener("DOMContentLoaded",(()=>{DOMContentLoadedCallbacks.forEach((callback=>callback()))}))}DOMContentLoadedCallbacks.push(callback)}else{callback()}};const defineJQueryPlugin=plugin=>{onDOMContentLoaded((()=>{const $=getjQuery();if($){const name=plugin.NAME;const JQUERY_NO_CONFLICT=$.fn[name];$.fn[name]=plugin.jQueryInterface;$.fn[name].Constructor=plugin;$.fn[name].noConflict=()=>{$.fn[name]=JQUERY_NO_CONFLICT;return plugin.jQueryInterface}}}))};const enableDismissTrigger=(component,method="hide")=>{const clickEvent=`click.dismiss${component.EVENT_KEY}`;const name=component.NAME;EventHandler__default.default.on(document,clickEvent,`[data-bs-dismiss="${name}"]`,(function(event){if(["A","AREA"].includes(this.tagName)){event.preventDefault()}if(isDisabled(this)){return}const target=getElementFromSelector(this)||this.closest(`.${name}`);const instance=component.getOrCreateInstance(target);instance[method]()}))};const NAME="toast";const DATA_KEY="bs.toast";const EVENT_KEY=`.${DATA_KEY}`;const EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`;const EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`;const EVENT_FOCUSIN=`focusin${EVENT_KEY}`;const EVENT_FOCUSOUT=`focusout${EVENT_KEY}`;const EVENT_HIDE=`hide${EVENT_KEY}`;const EVENT_HIDDEN=`hidden${EVENT_KEY}`;const EVENT_SHOW=`show${EVENT_KEY}`;const EVENT_SHOWN=`shown${EVENT_KEY}`;const CLASS_NAME_FADE="fade";const CLASS_NAME_HIDE="hide";const CLASS_NAME_SHOW="show";const CLASS_NAME_SHOWING="showing";const DefaultType={animation:"boolean",autohide:"boolean",delay:"number"};const Default={animation:true,autohide:true,delay:5e3};class Toast extends BaseComponent__default.default{constructor(element,config){super(element);this._config=this._getConfig(config);this._timeout=null;this._hasMouseInteraction=false;this._hasKeyboardInteraction=false;this._setListeners()}static get DefaultType(){return DefaultType}static get Default(){return Default}static get NAME(){return NAME}show(){const showEvent=EventHandler__default.default.trigger(this._element,EVENT_SHOW);if(showEvent.defaultPrevented){return}this._clearTimeout();if(this._config.animation){this._element.classList.add(CLASS_NAME_FADE)}const complete=()=>{this._element.classList.remove(CLASS_NAME_SHOWING);EventHandler__default.default.trigger(this._element,EVENT_SHOWN);this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE);reflow(this._element);this._element.classList.add(CLASS_NAME_SHOW);this._element.classList.add(CLASS_NAME_SHOWING);this._queueCallback(complete,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(CLASS_NAME_SHOW)){return}const hideEvent=EventHandler__default.default.trigger(this._element,EVENT_HIDE);if(hideEvent.defaultPrevented){return}const complete=()=>{this._element.classList.add(CLASS_NAME_HIDE);this._element.classList.remove(CLASS_NAME_SHOWING);this._element.classList.remove(CLASS_NAME_SHOW);EventHandler__default.default.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING);this._queueCallback(complete,this._element,this._config.animation)}dispose(){this._clearTimeout();if(this._element.classList.contains(CLASS_NAME_SHOW)){this._element.classList.remove(CLASS_NAME_SHOW)}super.dispose()}_getConfig(config){config={...Default,...Manipulator__default.default.getDataAttributes(this._element),...typeof config==="object"&&config?config:{}};typeCheckConfig(NAME,config,this.constructor.DefaultType);return config}_maybeScheduleHide(){if(!this._config.autohide){return}if(this._hasMouseInteraction||this._hasKeyboardInteraction){return}this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)}_onInteraction(event,isInteracting){switch(event.type){case"mouseover":case"mouseout":this._hasMouseInteraction=isInteracting;break;case"focusin":case"focusout":this._hasKeyboardInteraction=isInteracting;break}if(isInteracting){this._clearTimeout();return}const nextElement=event.relatedTarget;if(this._element===nextElement||this._element.contains(nextElement)){return}this._maybeScheduleHide()}_setListeners(){EventHandler__default.default.on(this._element,EVENT_MOUSEOVER,(event=>this._onInteraction(event,true)));EventHandler__default.default.on(this._element,EVENT_MOUSEOUT,(event=>this._onInteraction(event,false)));EventHandler__default.default.on(this._element,EVENT_FOCUSIN,(event=>this._onInteraction(event,true)));EventHandler__default.default.on(this._element,EVENT_FOCUSOUT,(event=>this._onInteraction(event,false)))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(config){return this.each((function(){const data=Toast.getOrCreateInstance(this,config);if(typeof config==="string"){if(typeof data[config]==="undefined"){throw new TypeError(`No method named "${config}"`)}data[config](this)}}))}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);return Toast}));