(function(){if(typeof Prism==="undefined"||typeof document==="undefined"){return}var HTML_TAG=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/g;var HEX_COLOR=/^#?((?:[\da-f]){3,4}|(?:[\da-f]{2}){3,4})$/i;function parseHexColor(hex){var match=HEX_COLOR.exec(hex);if(!match){return undefined}hex=match[1];var channelWidth=hex.length>=6?2:1;var channelCount=hex.length/channelWidth;var scale=channelWidth==1?1/15:1/255;var channels=[];for(var i=0;i<channelCount;i++){var int=parseInt(hex.substr(i*channelWidth,channelWidth),16);channels.push(int*scale)}if(channelCount==3){channels.push(1)}var rgb=channels.slice(0,3).map((function(x){return String(Math.round(x*255))})).join(",");var alpha=String(Number(channels[3].toFixed(3)));return"rgba("+rgb+","+alpha+")"}function validateColor(color){var s=(new Option).style;s.color=color;return s.color?color:undefined}var parsers=[parseHexColor,validateColor];Prism.hooks.add("wrap",(function(env){if(env.type==="color"||env.classes.indexOf("color")>=0){var content=env.content;var rawText=content.split(HTML_TAG).join("");var color;for(var i=0,l=parsers.length;i<l&&!color;i++){color=parsers[i](rawText)}if(!color){return}var previewElement='<span class="inline-color-wrapper"><span class="inline-color" style="background-color:'+color+';"></span></span>';env.content=previewElement+content}}))})();